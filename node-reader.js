!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var n in o)("object"==typeof exports?exports:t)[n]=o[n]}}(global,(function(){return(()=>{"use strict";var t={382:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toCamelCase=e.removeClosures=e.normalizeExtension=e.isNumeric=void 0,e.isNumeric=function(t){return"string"==typeof t&&!isNaN(Number(t))&&!isNaN(parseFloat(t))},e.normalizeExtension=function(t){return t.endsWith(".csv")||(t+=".csv"),t},e.removeClosures=function(t,e){return t.replace(new RegExp("^".concat(e,"?|").concat(e,"?$"),"g"),"")},e.toCamelCase=function(t){return t.split(" ").reduce((function(t,e,o){return t+(0===o?e.toLocaleLowerCase():"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))}),"")}},107:function(t,e,o){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(o(521)),u=i(o(147)),c=o(382),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.read=function(t){var e=this;return new Promise((function(o,n){u.default.readFile((0,c.normalizeExtension)(t),(function(t,r){t&&n(t),o(e.getContent(r.toString()))}))}))},e}(s.default);e.default=a},521:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=o(382),r=function(){function t(t){this.options={delimiter:",",closure:'"',newLine:"\n",headerRow:0,parseNumbers:!1},t&&Object.assign(this.options,t)}return t.prototype.getRows=function(t){var e=t.split(this.options.newLine).filter((function(t){return t}));if(!e.length)throw new Error("Couldn't get rows of provided CSV content");return e},t.prototype.getHeader=function(t){var e=this;return this.options.headerRow>-1?this.getRows(t)[this.options.headerRow].split(this.options.delimiter).map((function(t){return(0,n.removeClosures)(t,e.options.closure)})):[]},t.prototype.getContentWithHeaderValues=function(t){var e=this,o=this.getHeader(t),r=this.getRows(t),i=[];return r.forEach((function(t,r){if(r>e.options.headerRow){var s=t.split("".concat(e.options.closure).concat(e.options.delimiter).concat(e.options.closure));if(s.length!==o.length)throw new Error("Header columns doesn't match with row fields");var u={};s.forEach((function(t,r){var i=(0,n.removeClosures)(t,e.options.closure);i&&(u[(0,n.toCamelCase)(o[r])]=(0,n.isNumeric)(i)&&e.options.parseNumbers?Number(i):String(i))})),Object.values(u).length&&i.push(u)}})),i},t.prototype.getContentWithoutHeaderValues=function(t){var e=this,o=[];return this.getRows(t).forEach((function(t){var r=t.split("".concat(e.options.closure).concat(e.options.delimiter).concat(e.options.closure)).map((function(t){return(0,n.removeClosures)(t,e.options.closure)}));o.push(r)})),o},t.prototype.getContent=function(t){return-1!==this.options.headerRow?this.getContentWithHeaderValues(t):this.getContentWithoutHeaderValues(t)},t}();e.default=r},147:t=>{t.exports=require("fs")}},e={},o=function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}(107);return o.default})()}));