!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(global,(function(){return(()=>{"use strict";var e={382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toCamelCase=t.removeClosures=t.normalizeExtension=t.isNumeric=void 0,t.isNumeric=function(e){return"string"==typeof e&&!isNaN(Number(e))&&!isNaN(parseFloat(e))},t.normalizeExtension=function(e){return e.endsWith(".csv")||(e+=".csv"),e},t.removeClosures=function(e,t){return e.replace(new RegExp("^".concat(t,"?|").concat(t,"?$"),"g"),"")},t.toCamelCase=function(e){return e.split(" ").reduce((function(e,t,o){return e+(0===o?t.toLocaleLowerCase():"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)))}),"")}},107:function(e,t,o){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(o(521)),u=i(o(147)),a=o(382),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.read=function(e){var t=this;return new Promise((function(o,r){u.default.readFile((0,a.normalizeExtension)(e),(function(e,n){e&&r(e),o(t.getContent(n.toString()))}))}))},t}(s.default);t.default=c},521:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=o(382),n=function(){function e(e){this.header=[],this.options={delimiter:",",closure:'"',newLine:"\n",headerRow:0,parseNumbers:!1},e&&Object.assign(this.options,e)}return e.prototype.getRows=function(e){var t=e.split(this.options.newLine).filter((function(e){return e}));if(!t.length)throw new Error("Couldn't get rows of provided CSV content");return t},e.prototype.getHeader=function(e){var t=this;return this.options.headerRow>-1&&(this.header=this.getRows(e)[this.options.headerRow].split(this.options.delimiter).map((function(e){return(0,r.removeClosures)(e,t.options.closure)}))),this.header},e.prototype.setHeader=function(e){if(!e.length||!Array.isArray(e)||e.some((function(e){return"string"!=typeof e})))throw new Error("Bad header passed. The custom header must be an array of strings");this.options.headerRow=-1,this.header=e},e.prototype.getContentWithHeaderValues=function(e){var t=this,o=this.getHeader(e),n=this.getRows(e),i=[];return n.forEach((function(e,n){if(n>t.options.headerRow){var s=e.split("".concat(t.options.closure).concat(t.options.delimiter).concat(t.options.closure));if(s.length!==o.length)throw new Error("Header columns doesn't match with row fields");var u={};s.forEach((function(e,n){var i=(0,r.removeClosures)(e,t.options.closure);i&&(u[(0,r.toCamelCase)(o[n])]=(0,r.isNumeric)(i)&&t.options.parseNumbers?Number(i):String(i))})),Object.values(u).length&&i.push(u)}})),i},e.prototype.getContentWithoutHeaderValues=function(e){var t=this,o=[];return this.getRows(e).forEach((function(e){var n=e.split("".concat(t.options.closure).concat(t.options.delimiter).concat(t.options.closure)).map((function(e){var o=(0,r.removeClosures)(e,t.options.closure);return(0,r.isNumeric)(o)&&t.options.parseNumbers?Number(o):String(o)}));o.push(n)})),o},e.prototype.getContent=function(e){return-1!==this.options.headerRow||this.header.length?this.getContentWithHeaderValues(e):this.getContentWithoutHeaderValues(e)},e}();t.default=n},147:e=>{e.exports=require("fs")}},t={},o=function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}(107);return o.default})()}));